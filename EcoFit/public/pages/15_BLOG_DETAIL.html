<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>15_BLOG_DETAIL</title>

  <!-- ‚úÖ Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <!-- ‚úÖ Custom CSS - Ch·ªâ c√≤n 1 file CSS -->
  <link rel="stylesheet" href="../css/USER_MAINSTYLE.css" />
</head>
<body class="blog-detail-body">
  <iframe id="header-frame" class="header-frame"></iframe>
  <script>
      window.addEventListener("DOMContentLoaded", () => {
      const header = document.getElementById("header-frame");
      const isLoggedIn = localStorage.getItem("isLoggedIn") === "true";
      header.src = isLoggedIn 
          ? "../template/header.html" 
          : "../template/header0.html";

      header.onload = () => {
          header.contentWindow.postMessage({ activeNav: "nav-blog" }, "*");
      };
      });

      // üîπ B·ªî SUNG ƒêO·∫†N N√ÄY ƒê·ªÇ NH·∫¨N T√çN HI·ªÜU T·ª™ HEADER V√Ä X·ª¨ L√ù LOGIN/LOGOUT
      window.addEventListener("message", (e) => {
      if (!e.data || !e.data.action) return;

      // B·∫•m n√∫t Login trong header0
      if (e.data.action === "goToLogin") {
          window.location.href = "00_LOGIN.html";
      }

      // B·∫•m n√∫t Sign Up trong header0
      if (e.data.action === "goToSignup") {
          window.location.href = "00_SIGNUP.html";
      }

      // Khi ƒëƒÉng nh·∫≠p th√†nh c√¥ng (t·ª´ login.js ho·∫∑c login form)
      if (e.data.action === "loginSuccess" || e.data.action === "loggedIn") {
          localStorage.setItem("isLoggedIn", "true");
          document.getElementById("header-frame").src = "../template/header.html";
      }

      // Khi ng∆∞·ªùi d√πng logout t·ª´ header.html
      if (e.data.action === "logout") {
          localStorage.removeItem("isLoggedIn");
          localStorage.removeItem("login_infor");
          document.getElementById("header-frame").src = "../template/header0.html";
      }
      });
  </script>
  <!-- Hero Image -->
  <section class="blog-detail-hero">
    <img
      src="../../../src/blog_banner.png"
      id="blog-image"
      alt="Blog banner"
    />
  </section>

  <!-- Blog Content -->
  <main class="blog-detailed-container container py-5">
    <h1 id="blog-title" class="fw-bold text-center"></h1>
    <p id="blog-date" class="text-center text-muted mb-5"></p>
    <div id="blog-content"></div>
  </main>

  <!-- Footer -->
  <iframe src="../template/footer.html" id="footer-frame" class="footer-frame"></iframe>
  <!-- ‚úÖ Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- ‚úÖ Blog JS -->
  <script src="../js/blog_detail.js"></script>
</body>
</html>
